<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FeedParrot: rssmanager/feedprofile.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="feedparrot_64.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FeedParrot
   &#160;<span id="projectnumber">0.4</span>
   </div>
   <div id="projectbrief">Qt based RSS Feed manager and parser</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('feedprofile_8h.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">rssmanager/feedprofile.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef FEEDPROFILE_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define FEEDPROFILE_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#include &lt;QObject&gt;</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;QTimer&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &quot;rssmanager.h&quot;</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="keyword">class </span>QNetworkAccessManager;
<a name="l00008"></a>00008 <span class="keyword">class </span>QNetworkReply;
<a name="l00009"></a>00009 <span class="keyword">class </span><a class="code" href="class_r_s_s_parser.html" title="RSSParser is a special xml parser for RSS feeds. It is based on XQuery as backend. It is very light weight as it does not own the source data. Using RSSParser requires some basic knowledge of RSS elements. It suports RSS Specification http://www.rssboard.org/rss-specification.">RSSParser</a>;
<a name="l00010"></a>00010 
<a name="l00014"></a><a class="code" href="class_feed_profile.html">00014</a> <span class="keyword">class </span><a class="code" href="class_feed_profile.html">FeedProfile</a> : <span class="keyword">public</span> QObject
<a name="l00015"></a>00015 {
<a name="l00016"></a>00016     Q_OBJECT
<a name="l00017"></a>00017 <span class="keyword">public</span>:
<a name="l00018"></a>00018     <span class="keyword">explicit</span> <a class="code" href="class_feed_profile.html">FeedProfile</a>(QUrl <a class="code" href="class_feed_profile.html#a5f25604a765601d87e41b97adfd709e8">url</a>,<span class="keywordtype">int</span> interval,<a class="code" href="class_r_s_s_manager.html">RSSManager</a>* mgr,QObject *parent = 0);
<a name="l00019"></a>00019     ~<a class="code" href="class_feed_profile.html">FeedProfile</a>();
<a name="l00020"></a>00020     <span class="keywordtype">bool</span> isValid() <span class="keyword">const</span>;
<a name="l00021"></a>00021     <span class="keywordtype">void</span> <a class="code" href="class_feed_profile.html#ab6898094e5bbbff57329958000fb08cf">update</a>();
<a name="l00022"></a>00022     QString <a class="code" href="class_feed_profile.html#a4e8512cf50a4613d3f41bf040068b87d">feedFileName</a>() <span class="keyword">const</span>;
<a name="l00023"></a>00023     <span class="comment">//int count() const;</span>
<a name="l00024"></a>00024     QUrl <a class="code" href="class_feed_profile.html#a5f25604a765601d87e41b97adfd709e8">url</a>() <span class="keyword">const</span>;
<a name="l00025"></a>00025     <span class="keywordtype">int</span> interval() <span class="keyword">const</span>;
<a name="l00026"></a>00026     <span class="keywordtype">void</span> setSmartUpdate(<span class="keywordtype">bool</span> val);
<a name="l00027"></a>00027     <span class="keywordtype">bool</span> hasSmartUpdate() <span class="keyword">const</span>;
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 signals:
<a name="l00030"></a>00030     <span class="keywordtype">void</span> updateAvailable(QUrl sourceUrl, <span class="keywordtype">int</span> updatedItems);
<a name="l00031"></a>00031     <span class="keywordtype">void</span> error(QString errorDescription,QUrl sourceUrl);
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="keyword">public</span> slots:
<a name="l00034"></a>00034     <span class="keywordtype">void</span> start();
<a name="l00035"></a>00035     <span class="keywordtype">void</span> stop();
<a name="l00036"></a>00036     <span class="keywordtype">void</span> updateTimer(<span class="keywordtype">int</span> msec);
<a name="l00039"></a>00039     <span class="keywordtype">bool</span> <a class="code" href="class_feed_profile.html#a43feba0f4c42ac44b1fa3984398a4050">isActive</a>() <span class="keyword">const</span>;
<a name="l00040"></a>00040     QString latestItemCheck() <span class="keyword">const</span>;
<a name="l00041"></a>00041     <span class="keywordtype">void</span> setLatestItemCheck(QString check);
<a name="l00042"></a>00042     <span class="keywordtype">void</span> setUserData(FeedUserData userData);
<a name="l00043"></a>00043     FeedUserData userData() <span class="keyword">const</span>;
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="keyword">private</span> slots:
<a name="l00046"></a>00046     <span class="keywordtype">void</span> handleTimeOut();
<a name="l00047"></a>00047     <span class="keywordtype">void</span> replyFinished(QNetworkReply* reply);
<a name="l00048"></a>00048     <span class="keywordtype">void</span> handleContent(QByteArray content);
<a name="l00049"></a>00049 
<a name="l00050"></a>00050     <span class="comment">// test slots</span>
<a name="l00051"></a>00051     <span class="keywordtype">void</span> handleNetworkMgrDestroyed(QObject* obj);
<a name="l00052"></a>00052 <span class="keyword">private</span>:
<a name="l00053"></a>00053     <span class="keywordtype">void</span> setNetworkRequestActive(<span class="keywordtype">bool</span> value);
<a name="l00054"></a>00054     <span class="keywordtype">bool</span> isNetworkRequestActive();
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="keyword">private</span>:
<a name="l00057"></a>00057     <span class="keyword">const</span> QUrl mSourceUrl;
<a name="l00058"></a>00058     <span class="keywordtype">int</span> mInterval;
<a name="l00059"></a>00059     <a class="code" href="class_r_s_s_manager.html">RSSManager</a>* mRSSManager;<span class="comment">// non-owning</span>
<a name="l00060"></a>00060     QString mLatestElementCheck;
<a name="l00061"></a>00061     QString mFeedFileName;
<a name="l00062"></a>00062     QTimer mTimer;
<a name="l00063"></a>00063     QNetworkAccessManager* mNetworkManager;
<a name="l00064"></a>00064     QNetworkReply* mNetworkReply;
<a name="l00065"></a>00065     FeedUserData mUserData;
<a name="l00066"></a>00066     <span class="keyword">mutable</span> <span class="keywordtype">int</span> mCachedCount;
<a name="l00067"></a>00067     <span class="keyword">mutable</span> <span class="keywordtype">bool</span> mCacheInvalidated;
<a name="l00068"></a>00068     <span class="comment">// Dont use this directly, use setter and getter instead</span>
<a name="l00069"></a>00069     <span class="keywordtype">bool</span> mNetworkRequestActive;
<a name="l00070"></a>00070     <span class="comment">// used only for test</span>
<a name="l00071"></a>00071     <span class="keywordtype">int</span> mNetManCreatedCount;
<a name="l00072"></a>00072     <span class="keywordtype">int</span> mFeedReachable;
<a name="l00073"></a>00073     <span class="keywordtype">bool</span> mSmartUpdate;
<a name="l00074"></a>00074 };
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="preprocessor">#endif // FEEDPROFILE_H</span>
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>feedprofile.h</b>      </li>

    <li class="footer">Generated on Mon May 14 2012 13:34:24 for FeedParrot by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
