<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FeedParrot: rssparser/rssparser.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="feedparrot_64.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FeedParrot
   &#160;<span id="projectnumber">0.4</span>
   </div>
   <div id="projectbrief">Qt based RSS Feed manager and parser</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('rssparser_8h.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">rssparser/rssparser.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef RSSPARSER_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define RSSPARSER_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;QObject&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;QXmlQuery&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;QStringList&gt;</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="keyword">class </span>QUrl;
<a name="l00009"></a>00009 <span class="keyword">class </span>QIODevice;
<a name="l00010"></a><a class="code" href="class_r_s_s_parser.html">00010</a> <span class="keyword">class </span><a class="code" href="class_r_s_s_parser.html" title="RSSParser is a special xml parser for RSS feeds. It is based on XQuery as backend. It is very light weight as it does not own the source data. Using RSSParser requires some basic knowledge of RSS elements. It suports RSS Specification http://www.rssboard.org/rss-specification.">RSSParser</a> : <span class="keyword">public</span> QObject
<a name="l00011"></a>00011 {
<a name="l00012"></a>00012     Q_OBJECT
<a name="l00013"></a>00013     Q_ENUMS(<a class="code" href="class_r_s_s_parser.html#a7abe04d86afbba935a94443444685310">RSSElement</a>)
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="keyword">public</span>:
<a name="l00016"></a>00016     <span class="keyword">explicit</span> <a class="code" href="class_r_s_s_parser.html" title="RSSParser is a special xml parser for RSS feeds. It is based on XQuery as backend. It is very light weight as it does not own the source data. Using RSSParser requires some basic knowledge of RSS elements. It suports RSS Specification http://www.rssboard.org/rss-specification.">RSSParser</a>(QObject *parent = 0);
<a name="l00017"></a>00017     ~<a class="code" href="class_r_s_s_parser.html" title="RSSParser is a special xml parser for RSS feeds. It is based on XQuery as backend. It is very light weight as it does not own the source data. Using RSSParser requires some basic knowledge of RSS elements. It suports RSS Specification http://www.rssboard.org/rss-specification.">RSSParser</a>();
<a name="l00019"></a><a class="code" href="class_r_s_s_parser.html#a7abe04d86afbba935a94443444685310">00019</a>     <span class="keyword">enum</span> <a class="code" href="class_r_s_s_parser.html#a7abe04d86afbba935a94443444685310">RSSElement</a>
<a name="l00020"></a>00020     {
<a name="l00021"></a>00021         title,
<a name="l00022"></a>00022         link,
<a name="l00023"></a>00023         description,
<a name="l00024"></a>00024         pubDate,
<a name="l00025"></a>00025         language,
<a name="l00026"></a>00026         lastBuildDate,
<a name="l00027"></a>00027         generator,
<a name="l00028"></a>00028         copyright,
<a name="l00029"></a>00029         skipHours,
<a name="l00030"></a>00030         skipDays,
<a name="l00031"></a>00031         <span class="comment">// Pure Item elements</span>
<a name="l00032"></a>00032         author,
<a name="l00033"></a>00033         creator, <span class="comment">// TODO: Check diff ns like dublin</span>
<a name="l00034"></a>00034         comments,
<a name="l00035"></a>00035         guid
<a name="l00036"></a>00036     };
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="keyword">public</span> slots:
<a name="l00039"></a>00039     Q_INVOKABLE <span class="keywordtype">bool</span> <a class="code" href="class_r_s_s_parser.html#a0d8ac4522e80b24d8ad4b82757ba8490" title="Validates parser. Returns true if parser is valid. Parser is valid if a readable non empty source is ...">isValid</a>() <span class="keyword">const</span>;
<a name="l00040"></a>00040     Q_INVOKABLE <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_parser.html#a61ed20107ba616368c053eb61a99ba9d" title="set RSS data source. Sets xml source to be parsed using RSSParser. The source should be opened atleas...">setSource</a>(QIODevice* xmlSource);
<a name="l00041"></a>00041     Q_INVOKABLE QIODevice* source() <span class="keyword">const</span>;
<a name="l00042"></a>00042     Q_INVOKABLE QUrl <a class="code" href="class_r_s_s_parser.html#a19db1bd2bf2b86f39c83b1516f390c3f" title="Experimental API to set a filename as source.">imageUrl</a>();
<a name="l00043"></a>00043     Q_INVOKABLE QString <a class="code" href="class_r_s_s_parser.html#a6c15515c743ecaf311851dbfb4fa1f0c" title="queries a channel element">channelElement</a>(<a class="code" href="class_r_s_s_parser.html#a7abe04d86afbba935a94443444685310">RSSElement</a> aElement);
<a name="l00044"></a>00044     Q_INVOKABLE QString <a class="code" href="class_r_s_s_parser.html#a6c15515c743ecaf311851dbfb4fa1f0c" title="queries a channel element">channelElement</a>(QString userElement);
<a name="l00045"></a>00045     Q_INVOKABLE QString <a class="code" href="class_r_s_s_parser.html#adfad03c83d5a7a433c999a15b0ef1244" title="queries an item element">itemElement</a>(<span class="keywordtype">int</span> itemIndex,<a class="code" href="class_r_s_s_parser.html#a7abe04d86afbba935a94443444685310">RSSElement</a> aElement);
<a name="l00046"></a>00046     Q_INVOKABLE QString <a class="code" href="class_r_s_s_parser.html#adfad03c83d5a7a433c999a15b0ef1244" title="queries an item element">itemElement</a>(<span class="keywordtype">int</span> itemIndex,QString userElement);
<a name="l00047"></a>00047     Q_INVOKABLE QStringList <a class="code" href="class_r_s_s_parser.html#a101a710297658df267686d60fc8b224a" title="Convinience method to query all items for the element.">itemElements</a>(<a class="code" href="class_r_s_s_parser.html#a7abe04d86afbba935a94443444685310">RSSElement</a> aElement);
<a name="l00048"></a>00048     Q_INVOKABLE QStringList <a class="code" href="class_r_s_s_parser.html#a101a710297658df267686d60fc8b224a" title="Convinience method to query all items for the element.">itemElements</a>(QString userElement);
<a name="l00049"></a>00049     Q_INVOKABLE QStringList <a class="code" href="class_r_s_s_parser.html#a207fae9001e240065c2d600d3638ce89" title="Returns categories of a particular item in feed.">category</a>(<span class="keywordtype">int</span> itemIndex);
<a name="l00050"></a>00050     Q_INVOKABLE QList&lt;QStringList&gt; <a class="code" href="class_r_s_s_parser.html#ab9398ef4aea9f70266590998c232f9a8" title="Convinience method to query categories of all items.">categories</a>();
<a name="l00051"></a>00051     Q_INVOKABLE <span class="keywordtype">int</span> <a class="code" href="class_r_s_s_parser.html#a0c492d66b7680715c9f9fac92a3c06c5" title="Returns count of all items in the feed.">count</a>();
<a name="l00052"></a>00052     <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_parser.html#ac6e01abe6e0e849c3f9ee327b31cfd40">invalidateCache</a>();
<a name="l00053"></a>00053     <span class="keywordtype">bool</span> <a class="code" href="class_r_s_s_parser.html#a2565557c7f7d5b348a4c2137d6916fcb" title="returns true if the latest query resulted in error.">isError</a>() <span class="keyword">const</span>;
<a name="l00054"></a>00054     <span class="keyword">static</span> QString <a class="code" href="class_r_s_s_parser.html#ab88730a31215283d223cd509fd172f54">decodeHtml</a>(<span class="keyword">const</span> QString&amp; encodedHtml);
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="keyword">public</span> slots:
<a name="l00057"></a>00057     QString executeQuery(<span class="keyword">const</span> QString&amp; aQuery);
<a name="l00058"></a>00058     QStringList executeQueryAsList(<span class="keyword">const</span> QString&amp; aQuery);
<a name="l00059"></a>00059     QString enumToString(<a class="code" href="class_r_s_s_parser.html#a7abe04d86afbba935a94443444685310">RSSParser::RSSElement</a> aElement);
<a name="l00060"></a>00060 
<a name="l00061"></a>00061 <span class="keyword">private</span>:
<a name="l00062"></a>00062     QXmlQuery m_xmlQuery;
<a name="l00063"></a>00063     QIODevice* m_xmlSource;
<a name="l00064"></a>00064     QString m_xmlSourceFileName;
<a name="l00065"></a>00065     <span class="keywordtype">bool</span> m_IsError;
<a name="l00066"></a>00066     <span class="keywordtype">int</span> m_Count;
<a name="l00067"></a>00067     <span class="keywordtype">int</span> m_InvalidateCachedCount;
<a name="l00068"></a>00068 };
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="preprocessor">#endif // RSSPARSER_H</span>
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>rssparser.h</b>      </li>

    <li class="footer">Generated on Mon May 14 2012 13:34:24 for FeedParrot by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
