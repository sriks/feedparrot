<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FeedParrot: rssmanager/rssmanager.cpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="feedparrot_64.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FeedParrot
   &#160;<span id="projectnumber">0.4</span>
   </div>
   <div id="projectbrief">Qt based RSS Feed manager and parser</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('rssmanager_8cpp.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">rssmanager/rssmanager.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &lt;QDebug&gt;</span>
<a name="l00002"></a>00002 <span class="preprocessor">#include &lt;QMetaType&gt;</span>
<a name="l00003"></a>00003 <span class="preprocessor">#include &lt;QXmlStreamWriter&gt;</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;QCoreApplication&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;QFile&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;QDir&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &quot;rssmanager.h&quot;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;feedprofile.h&quot;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#if defined(DC_HARMATTAN)</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span>QString DATA_LOCATION = <span class="stringliteral">&quot;/home/user/.local/share//data/&quot;</span>;
<a name="l00012"></a>00012 <span class="preprocessor">#endif</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span>
<a name="l00014"></a>00014 <span class="keyword">typedef</span> QHash&lt;QUrl,FeedProfile*&gt; FeedContainer;
<a name="l00015"></a>00015 <span class="keyword">typedef</span> QHashIterator&lt;QUrl,FeedProfile*&gt; FeedsIterator;
<a name="l00016"></a>00016 
<a name="l00017"></a><a class="code" href="class_r_s_s_manager_private.html">00017</a> <span class="keyword">class </span><a class="code" href="class_r_s_s_manager_private.html">RSSManagerPrivate</a> {
<a name="l00018"></a>00018 <span class="keyword">public</span>:
<a name="l00019"></a>00019     QString appName;
<a name="l00020"></a>00020     FeedContainer profiles;
<a name="l00021"></a>00021     <a class="code" href="class_feed_profile.html">FeedProfile</a>* profile(QUrl url)<span class="keyword"> const </span>{
<a name="l00022"></a>00022         <span class="keywordflow">return</span> profiles.value(url,NULL);
<a name="l00023"></a>00023     }
<a name="l00024"></a>00024     ~<a class="code" href="class_r_s_s_manager_private.html">RSSManagerPrivate</a>() {
<a name="l00025"></a>00025         qDeleteAll(profiles.begin(),profiles.end());
<a name="l00026"></a>00026     }
<a name="l00027"></a>00027 };
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="keyword">const</span> QString KFeedStorageFileName(<span class="stringliteral">&quot;feedstore.xml&quot;</span>);
<a name="l00030"></a>00030 <span class="keyword">const</span> QString KFeedStorageFeedElement(<span class="stringliteral">&quot;feedstore&quot;</span>);
<a name="l00031"></a>00031 <span class="keyword">const</span> QString KFeedItem(<span class="stringliteral">&quot;item&quot;</span>);
<a name="l00032"></a>00032 <span class="keyword">const</span> QString KFeedStorageurl(<span class="stringliteral">&quot;link&quot;</span>);
<a name="l00033"></a>00033 <span class="keyword">const</span> QString KFeedStorageUpdatePeriod(<span class="stringliteral">&quot;updateperiod&quot;</span>);
<a name="l00034"></a>00034 <span class="keyword">const</span> QString KFeedStorageLatestItemCheckpoint(<span class="stringliteral">&quot;checkpoint&quot;</span>);
<a name="l00035"></a>00035 <span class="keyword">const</span> QString KFeedStorageUserDataItemTitle(<span class="stringliteral">&quot;userdata&quot;</span>);
<a name="l00036"></a>00036 <span class="keyword">const</span> QString KFeedStorageCountItemTitle(<span class="stringliteral">&quot;count&quot;</span>);
<a name="l00037"></a>00037 <span class="keyword">const</span> QString KFeedStorageKeyItemTitle(<span class="stringliteral">&quot;key&quot;</span>);
<a name="l00038"></a>00038 <span class="keyword">const</span> QString KFeedStorageValueItemTitle(<span class="stringliteral">&quot;value&quot;</span>);
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="keyword">const</span> QString KOrganisationName(<span class="stringliteral">&quot;decii&quot;</span>);
<a name="l00041"></a>00041 <span class="keyword">const</span> QString KAppName(<span class="stringliteral">&quot;rssmanager&quot;</span>);
<a name="l00042"></a>00042 <span class="keyword">const</span> QString KFeedGroup(<span class="stringliteral">&quot;feeds&quot;</span>);
<a name="l00043"></a>00043 <span class="keyword">const</span> QString KFeedList(<span class="stringliteral">&quot;feedlist&quot;</span>);
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 RSSManager::RSSManager(QString applicationName,QObject *parent) :
<a name="l00046"></a>00046     QObject(parent) {
<a name="l00047"></a>00047     d = <span class="keyword">new</span> <a class="code" href="class_r_s_s_manager_private.html">RSSManagerPrivate</a>;
<a name="l00048"></a>00048     d-&gt;appName = applicationName;
<a name="l00049"></a>00049     restoreState();
<a name="l00050"></a>00050 }
<a name="l00051"></a>00051 
<a name="l00058"></a><a class="code" href="class_r_s_s_manager.html#a66085abae9b82a2292c162c76532b28d">00058</a> <a class="code" href="class_r_s_s_manager.html">RSSManager</a> *<a class="code" href="class_r_s_s_manager.html#a66085abae9b82a2292c162c76532b28d">RSSManager::instance</a>(QString applicationName) {
<a name="l00059"></a>00059     <span class="keyword">static</span> <a class="code" href="class_r_s_s_manager.html">RSSManager</a>* m = NULL;
<a name="l00060"></a>00060     <span class="keywordflow">if</span>(!m)
<a name="l00061"></a>00061         m = <span class="keyword">new</span> <a class="code" href="class_r_s_s_manager.html">RSSManager</a>(applicationName);
<a name="l00062"></a>00062     <span class="keywordflow">return</span> m;
<a name="l00063"></a>00063 }
<a name="l00064"></a>00064 
<a name="l00078"></a><a class="code" href="class_r_s_s_manager.html#a6b15afc171af4ed4a51aa67f599edb40">00078</a> QString <a class="code" href="class_r_s_s_manager.html#a6b15afc171af4ed4a51aa67f599edb40">RSSManager::storagePath</a>() {
<a name="l00079"></a>00079     <span class="keyword">static</span> QString basePath;
<a name="l00080"></a>00080     <span class="keywordflow">if</span>(basePath.isEmpty()) {
<a name="l00081"></a>00081 <span class="preprocessor">        #if defined(DC_HARMATTAN)</span>
<a name="l00082"></a>00082 <span class="preprocessor"></span>        basePath = DATA_LOCATION;
<a name="l00083"></a>00083 <span class="preprocessor">        #else</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>        basePath = QCoreApplication::applicationDirPath();
<a name="l00085"></a>00085 <span class="preprocessor">        #endif</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span>
<a name="l00087"></a>00087         QString appname = <a class="code" href="class_r_s_s_manager.html#afe064ca0fb955f5a5a9874a7a4d273b1">applicationName</a>();
<a name="l00088"></a>00088         <span class="keywordflow">if</span>(appname.isEmpty()) {
<a name="l00089"></a>00089             qWarning()&lt;&lt;<span class="stringliteral">&quot;Required to speicfy appname using RSSManager::setApplicationName().&quot;</span>;
<a name="l00090"></a>00090             basePath.clear();
<a name="l00091"></a>00091             <span class="keywordflow">return</span> QString();
<a name="l00092"></a>00092         }
<a name="l00093"></a>00093 
<a name="l00094"></a>00094         QDir d(basePath);
<a name="l00095"></a>00095         <span class="keywordflow">if</span>(!d.cd(appname)) {
<a name="l00096"></a>00096             <span class="keywordflow">if</span>(!d.mkdir(appname)) {
<a name="l00097"></a>00097                 qWarning()&lt;&lt;Q_FUNC_INFO&lt;&lt;<span class="stringliteral">&quot;Unable to create folder &quot;</span>&lt;&lt;appname&lt;&lt;<span class="stringliteral">&quot; in &quot;</span>&lt;&lt;basePath;
<a name="l00098"></a>00098                 basePath.clear();
<a name="l00099"></a>00099                 <span class="keywordflow">return</span> QString();
<a name="l00100"></a>00100             } <span class="keywordflow">else</span> {
<a name="l00101"></a>00101                 d.cd(appname);
<a name="l00102"></a>00102             }
<a name="l00103"></a>00103         }
<a name="l00104"></a>00104         basePath = d.absolutePath();
<a name="l00105"></a>00105     }
<a name="l00106"></a>00106     <span class="keywordflow">return</span> basePath;
<a name="l00107"></a>00107 }
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 RSSManager::~RSSManager() {
<a name="l00110"></a>00110     <span class="comment">// write all preferences</span>
<a name="l00111"></a>00111     qDebug()&lt;&lt;Q_FUNC_INFO;
<a name="l00112"></a>00112     <a class="code" href="class_r_s_s_manager.html#ab8ad38352998ee4b3d8e257f6a8d7700">saveState</a>();
<a name="l00113"></a>00113     <span class="keyword">delete</span> d;
<a name="l00114"></a>00114 }
<a name="l00115"></a>00115 
<a name="l00119"></a><a class="code" href="class_r_s_s_manager.html#ab8ad38352998ee4b3d8e257f6a8d7700">00119</a> <span class="keywordtype">bool</span> <a class="code" href="class_r_s_s_manager.html#ab8ad38352998ee4b3d8e257f6a8d7700">RSSManager::saveState</a>() {
<a name="l00120"></a>00120     <span class="comment">// Write all subscriptions to persistent storage as XML</span>
<a name="l00121"></a>00121     QString basePath = <a class="code" href="class_r_s_s_manager.html#a6b15afc171af4ed4a51aa67f599edb40">storagePath</a>();
<a name="l00122"></a>00122     <span class="keywordflow">if</span>(basePath.isEmpty())
<a name="l00123"></a>00123         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00124"></a>00124 
<a name="l00125"></a>00125     QFile storageFile(basePath + <span class="stringliteral">&quot;/&quot;</span> + KFeedStorageFileName);
<a name="l00126"></a>00126     <span class="keywordflow">if</span>(storageFile.open(QIODevice::WriteOnly)) {
<a name="l00127"></a>00127         QXmlStreamWriter xmlWriter(&amp;storageFile);
<a name="l00128"></a>00128         xmlWriter.setAutoFormatting(<span class="keyword">true</span>);
<a name="l00129"></a>00129         xmlWriter.writeStartDocument();
<a name="l00130"></a>00130         xmlWriter.writeStartElement(KFeedStorageFeedElement);
<a name="l00131"></a>00131         QList&lt;FeedProfile*&gt;  profiles = d-&gt;profiles.values();
<a name="l00132"></a>00132             <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;profiles.count();i++) {
<a name="l00133"></a>00133                 <a class="code" href="class_feed_profile.html">FeedProfile</a>* profile = profiles.at(i);
<a name="l00134"></a>00134                 xmlWriter.writeStartElement(KFeedItem);
<a name="l00135"></a>00135                 xmlWriter.writeTextElement(KFeedStorageurl,
<a name="l00136"></a>00136                                            profiles.at(i)-&gt;url().toString());
<a name="l00137"></a>00137                 xmlWriter.writeTextElement(KFeedStorageUpdatePeriod,
<a name="l00138"></a>00138                                            QString().setNum(profiles.at(i)-&gt;interval()));
<a name="l00139"></a>00139                 xmlWriter.writeTextElement(KFeedStorageLatestItemCheckpoint,
<a name="l00140"></a>00140                                            profiles.at(i)-&gt;latestItemCheck());
<a name="l00141"></a>00141 
<a name="l00142"></a>00142                 <span class="comment">// user data</span>
<a name="l00143"></a>00143                 <span class="keywordflow">if</span>(!profile-&gt;userData().isEmpty()) {
<a name="l00144"></a>00144                     FeedUserData userdata(profile-&gt;userData());
<a name="l00145"></a>00145                     QMapIterator&lt;QString,QString&gt; iter(userdata);
<a name="l00146"></a>00146                     xmlWriter.writeStartElement(KFeedStorageUserDataItemTitle);
<a name="l00147"></a>00147                     xmlWriter.writeTextElement(KFeedStorageCountItemTitle,
<a name="l00148"></a>00148                                                QString().setNum(userdata.size()));
<a name="l00149"></a>00149                     <span class="keywordflow">while</span>(iter.hasNext()) {
<a name="l00150"></a>00150                         iter.next();
<a name="l00151"></a>00151                         xmlWriter.writeTextElement(KFeedStorageKeyItemTitle,
<a name="l00152"></a>00152                                                    iter.key());
<a name="l00153"></a>00153                         xmlWriter.writeTextElement(KFeedStorageValueItemTitle,
<a name="l00154"></a>00154                                                    iter.value());
<a name="l00155"></a>00155                     }
<a name="l00156"></a>00156                     xmlWriter.writeEndElement();
<a name="l00157"></a>00157                 }
<a name="l00158"></a>00158                 xmlWriter.writeEndElement();
<a name="l00159"></a>00159             }
<a name="l00160"></a>00160         xmlWriter.writeEndDocument();
<a name="l00161"></a>00161         storageFile.close();
<a name="l00162"></a>00162         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00163"></a>00163     }
<a name="l00164"></a>00164 
<a name="l00165"></a>00165     <span class="comment">// file not opened</span>
<a name="l00166"></a>00166     <span class="keywordflow">else</span> {
<a name="l00167"></a>00167         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00168"></a>00168     }
<a name="l00169"></a>00169 }
<a name="l00170"></a>00170 
<a name="l00174"></a><a class="code" href="class_r_s_s_manager.html#ac7471202ae912cc996eab19d047dbef5">00174</a> <span class="keywordtype">bool</span> <a class="code" href="class_r_s_s_manager.html#ac7471202ae912cc996eab19d047dbef5">RSSManager::restoreState</a>() {
<a name="l00175"></a>00175     QString basePath = <a class="code" href="class_r_s_s_manager.html#a6b15afc171af4ed4a51aa67f599edb40">storagePath</a>();
<a name="l00176"></a>00176     <span class="keywordflow">if</span>(basePath.isEmpty())
<a name="l00177"></a>00177         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00178"></a>00178 
<a name="l00179"></a>00179     QFile storageFile(basePath + <span class="stringliteral">&quot;/&quot;</span> + KFeedStorageFileName);
<a name="l00180"></a>00180     <span class="keywordflow">if</span>(storageFile.open(QIODevice::ReadOnly)) {
<a name="l00181"></a>00181         <a class="code" href="class_r_s_s_parser.html" title="RSSParser is a special xml parser for RSS feeds. It is based on XQuery as backend. It is very light weight as it does not own the source data. Using RSSParser requires some basic knowledge of RSS elements. It suports RSS Specification http://www.rssboard.org/rss-specification.">RSSParser</a>* p = <span class="keyword">new</span> <a class="code" href="class_r_s_s_parser.html" title="RSSParser is a special xml parser for RSS feeds. It is based on XQuery as backend. It is very light weight as it does not own the source data. Using RSSParser requires some basic knowledge of RSS elements. It suports RSS Specification http://www.rssboard.org/rss-specification.">RSSParser</a>(<span class="keyword">this</span>);
<a name="l00182"></a>00182         p-&gt;<a class="code" href="class_r_s_s_parser.html#a61ed20107ba616368c053eb61a99ba9d" title="set RSS data source. Sets xml source to be parsed using RSSParser. The source should be opened atleas...">setSource</a>(&amp;storageFile);
<a name="l00183"></a>00183         <span class="keywordtype">int</span> c = p-&gt;<a class="code" href="class_r_s_s_parser.html#a0c492d66b7680715c9f9fac92a3c06c5" title="Returns count of all items in the feed.">count</a>();
<a name="l00184"></a>00184         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;c;++i) {
<a name="l00185"></a>00185             QUrl url(p-&gt;<a class="code" href="class_r_s_s_parser.html#adfad03c83d5a7a433c999a15b0ef1244" title="queries an item element">itemElement</a>(i,KFeedStorageurl).trimmed());
<a name="l00186"></a>00186             QString check = p-&gt;<a class="code" href="class_r_s_s_parser.html#adfad03c83d5a7a433c999a15b0ef1244" title="queries an item element">itemElement</a>(i,KFeedStorageLatestItemCheckpoint).trimmed();
<a name="l00187"></a>00187             QString invStr = p-&gt;<a class="code" href="class_r_s_s_parser.html#adfad03c83d5a7a433c999a15b0ef1244" title="queries an item element">itemElement</a>(i,KFeedStorageUpdatePeriod).trimmed();
<a name="l00188"></a>00188             <a class="code" href="class_r_s_s_manager.html#a1af8b572aadfe48f819a4322b242359c">add</a>(url,invStr.toInt()); <span class="comment">// TODO: check base when converting str to interval</span>
<a name="l00189"></a>00189             <a class="code" href="class_feed_profile.html">FeedProfile</a>* fp = d-&gt;profile(url);
<a name="l00190"></a>00190             <span class="keywordflow">if</span>(fp) {
<a name="l00191"></a>00191                 fp-&gt;setLatestItemCheck(check);
<a name="l00192"></a>00192                 <span class="comment">// setting user data</span>
<a name="l00193"></a>00193                 <span class="keywordtype">int</span> c = p-&gt;<a class="code" href="class_r_s_s_parser.html#adfad03c83d5a7a433c999a15b0ef1244" title="queries an item element">itemElement</a>(i,KFeedStorageUserDataItemTitle+<span class="stringliteral">&quot;/&quot;</span>+
<a name="l00194"></a>00194                                          KFeedStorageCountItemTitle).trimmed().toInt();
<a name="l00195"></a>00195                 FeedUserData userdata;
<a name="l00196"></a>00196                 <span class="keyword">const</span> QString keyValueIndexStr(KFeedStorageUserDataItemTitle+<span class="stringliteral">&quot;/&quot;</span>+<span class="stringliteral">&quot;%2&quot;</span>+<span class="stringliteral">&quot;[%3]&quot;</span>);
<a name="l00197"></a>00197                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0;j&lt;c;++j) {
<a name="l00198"></a>00198                     QString queryForKey = keyValueIndexStr.arg(KFeedStorageKeyItemTitle,QString().setNum(j+1)); <span class="comment">// xquery index starts with 1</span>
<a name="l00199"></a>00199                     QString key = p-&gt;<a class="code" href="class_r_s_s_parser.html#adfad03c83d5a7a433c999a15b0ef1244" title="queries an item element">itemElement</a>(i,queryForKey).trimmed();
<a name="l00200"></a>00200                     <span class="keywordflow">if</span>(!key.isEmpty()) {
<a name="l00201"></a>00201                         QString queryForvalue = keyValueIndexStr.arg(KFeedStorageValueItemTitle,QString().setNum(j+1));
<a name="l00202"></a>00202                         QString value = p-&gt;<a class="code" href="class_r_s_s_parser.html#adfad03c83d5a7a433c999a15b0ef1244" title="queries an item element">itemElement</a>(i,queryForvalue).trimmed();
<a name="l00203"></a>00203                         userdata.insert(key,value);
<a name="l00204"></a>00204                         fp-&gt;setUserData(userdata);
<a name="l00205"></a>00205                     }
<a name="l00206"></a>00206                 }
<a name="l00207"></a>00207             }
<a name="l00208"></a>00208         }
<a name="l00209"></a>00209         <span class="keyword">delete</span> p;
<a name="l00210"></a>00210     }
<a name="l00211"></a>00211     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00212"></a>00212 }
<a name="l00213"></a>00213 
<a name="l00217"></a><a class="code" href="class_r_s_s_manager.html#af5b5bee03db89672564cfa53deb86851">00217</a> <span class="keywordtype">bool</span> <a class="code" href="class_r_s_s_manager.html#af5b5bee03db89672564cfa53deb86851">RSSManager::clearState</a>() {
<a name="l00218"></a>00218     QString basePath = <a class="code" href="class_r_s_s_manager.html#a6b15afc171af4ed4a51aa67f599edb40">storagePath</a>();
<a name="l00219"></a>00219     <span class="keywordflow">if</span>(basePath.isEmpty())
<a name="l00220"></a>00220         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00221"></a>00221     <span class="keywordflow">return</span> <a class="code" href="class_r_s_s_manager.html#abe9ccbb2b3df692cf6bc9c781058680e" title="Removes feed permanently. Stops update cycle of this feed If feed is fetched and being processed...">QFile::remove</a>(basePath+<span class="stringliteral">&quot;/&quot;</span>+KFeedStorageFileName);
<a name="l00222"></a>00222 }
<a name="l00223"></a>00223 
<a name="l00227"></a><a class="code" href="class_r_s_s_manager.html#aec7c080390df20d8117ad66f47777cae">00227</a> <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_manager.html#aec7c080390df20d8117ad66f47777cae">RSSManager::fetchUpdates</a>() {
<a name="l00228"></a>00228     <a class="code" href="class_r_s_s_manager.html#ac7471202ae912cc996eab19d047dbef5">restoreState</a>();
<a name="l00229"></a>00229     <a class="code" href="class_r_s_s_manager.html#a54cc44949de7b572cdd01bebf7ea4f6c" title="Updates all feeds which are added so far. Order of update is undefined. If such an order is required ...">updateAll</a>();
<a name="l00230"></a>00230 }
<a name="l00231"></a>00231 
<a name="l00235"></a><a class="code" href="class_r_s_s_manager.html#afe064ca0fb955f5a5a9874a7a4d273b1">00235</a> QString <a class="code" href="class_r_s_s_manager.html#afe064ca0fb955f5a5a9874a7a4d273b1">RSSManager::applicationName</a>()<span class="keyword"> const </span>{
<a name="l00236"></a>00236     <span class="keywordflow">return</span> d-&gt;appName;
<a name="l00237"></a>00237 }
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 <span class="keywordtype">void</span> RSSManager::setUserData(QUrl url, FeedUserData userData) {
<a name="l00240"></a>00240     <a class="code" href="class_feed_profile.html">FeedProfile</a>* p = d-&gt;profile(url);
<a name="l00241"></a>00241     <span class="keywordflow">if</span>(p &amp;&amp; !userData.isEmpty())
<a name="l00242"></a>00242         p-&gt;setUserData(userData);
<a name="l00243"></a>00243 }
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 FeedUserData RSSManager::userData(QUrl url)<span class="keyword"> const </span>{
<a name="l00246"></a>00246     FeedUserData userdata;
<a name="l00247"></a>00247     <a class="code" href="class_feed_profile.html">FeedProfile</a>* p = d-&gt;profile(url);
<a name="l00248"></a>00248     <span class="keywordflow">if</span>(p)
<a name="l00249"></a>00249         userdata = p-&gt;userData();
<a name="l00250"></a>00250     <span class="keywordflow">return</span> userdata;
<a name="l00251"></a>00251 }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 QMap&lt; QUrl, FeedUserData &gt; RSSManager::userData()<span class="keyword"> const </span>{
<a name="l00254"></a>00254     QMap&lt; QUrl, FeedUserData &gt; userdatamap;
<a name="l00255"></a>00255     FeedsIterator iter(d-&gt;profiles);
<a name="l00256"></a>00256     <span class="keywordflow">while</span>(iter.hasNext()) {
<a name="l00257"></a>00257         iter.next();
<a name="l00258"></a>00258         userdatamap.insert(iter.key(),userData(iter.key()));
<a name="l00259"></a>00259     }
<a name="l00260"></a>00260     <span class="keywordflow">return</span> userdatamap;
<a name="l00261"></a>00261 }
<a name="l00262"></a>00262 
<a name="l00269"></a><a class="code" href="class_r_s_s_manager.html#a3142e13c74b94efe76e95210a468283c">00269</a> QString <a class="code" href="class_r_s_s_manager.html#a3142e13c74b94efe76e95210a468283c">RSSManager::checkpoint</a>(QUrl url)<span class="keyword"> const </span>{
<a name="l00270"></a>00270     QString cp;
<a name="l00271"></a>00271     <a class="code" href="class_feed_profile.html">FeedProfile</a>* fp = d-&gt;profile(url);
<a name="l00272"></a>00272     <span class="keywordflow">if</span>(fp)
<a name="l00273"></a>00273         cp = fp-&gt;latestItemCheck();
<a name="l00274"></a>00274     <span class="keywordflow">return</span> cp;
<a name="l00275"></a>00275 }
<a name="l00276"></a>00276 
<a name="l00281"></a><a class="code" href="class_r_s_s_manager.html#a633ad2e13e05855fe4b9be177807c337">00281</a> <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_manager.html#a633ad2e13e05855fe4b9be177807c337">RSSManager::forgetCheckpoint</a>(QUrl url)<span class="keyword"> const </span>{
<a name="l00282"></a>00282     <a class="code" href="class_r_s_s_manager.html#a5cbe9b09302da0fabed486f8bd76225b">setCheckpoint</a>(url,QString());
<a name="l00283"></a>00283 }
<a name="l00284"></a>00284 
<a name="l00288"></a><a class="code" href="class_r_s_s_manager.html#a5cbe9b09302da0fabed486f8bd76225b">00288</a> <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_manager.html#a5cbe9b09302da0fabed486f8bd76225b">RSSManager::setCheckpoint</a>(QUrl url,QString newCheckpoint)<span class="keyword"> const </span>{
<a name="l00289"></a>00289     <a class="code" href="class_feed_profile.html">FeedProfile</a>* fp = d-&gt;profile(url);
<a name="l00290"></a>00290     <span class="keywordflow">if</span>(fp)
<a name="l00291"></a>00291         fp-&gt;setLatestItemCheck(newCheckpoint);
<a name="l00292"></a>00292 }
<a name="l00293"></a>00293 
<a name="l00301"></a><a class="code" href="class_r_s_s_manager.html#a1af8b572aadfe48f819a4322b242359c">00301</a> <span class="keywordtype">bool</span> <a class="code" href="class_r_s_s_manager.html#a1af8b572aadfe48f819a4322b242359c">RSSManager::add</a>(QUrl url, <span class="keywordtype">int</span> msec) {
<a name="l00302"></a>00302     <span class="keywordtype">bool</span> res = <span class="keyword">false</span>;
<a name="l00303"></a>00303     <span class="keywordflow">if</span>(!d-&gt;profile(url)) {
<a name="l00304"></a>00304         <a class="code" href="class_feed_profile.html">FeedProfile</a>* profile = <span class="keyword">new</span> <a class="code" href="class_feed_profile.html">FeedProfile</a>(url,msec,<span class="keyword">this</span>);
<a name="l00305"></a>00305         connect(profile,SIGNAL(<a class="code" href="class_r_s_s_manager.html#a465f7c816a89f3e2d19c64a07b75ac5b" title="Signal is emitted when new feed content is available.">updateAvailable</a>(QUrl,<span class="keywordtype">int</span>)),<span class="keyword">this</span>,SIGNAL(<a class="code" href="class_r_s_s_manager.html#a465f7c816a89f3e2d19c64a07b75ac5b" title="Signal is emitted when new feed content is available.">updateAvailable</a>(QUrl,<span class="keywordtype">int</span>)),Qt::UniqueConnection);
<a name="l00306"></a>00306         connect(profile,SIGNAL(error(QString,QUrl)),<span class="keyword">this</span>,SIGNAL(error(QString,QUrl)),Qt::UniqueConnection);
<a name="l00307"></a>00307         d-&gt;profiles.insert(url,profile);
<a name="l00308"></a>00308         res = <span class="keyword">true</span>;
<a name="l00309"></a>00309     }
<a name="l00310"></a>00310     <span class="keywordflow">return</span> res;
<a name="l00311"></a>00311 }
<a name="l00312"></a>00312 
<a name="l00321"></a><a class="code" href="class_r_s_s_manager.html#a61585a5b8bec73b83a6c9e5ea990e7f8">00321</a> <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_manager.html#a61585a5b8bec73b83a6c9e5ea990e7f8" title="Sets new update interval to msec to the feed identified by url. This restarts the feed with new inter...">RSSManager::setInterval</a>(QUrl url, <span class="keywordtype">int</span> msec) {
<a name="l00322"></a>00322     <a class="code" href="class_feed_profile.html">FeedProfile</a>* f = d-&gt;profile(url);
<a name="l00323"></a>00323     <span class="keywordflow">if</span>(f)
<a name="l00324"></a>00324         f-&gt;updateTimer(msec);
<a name="l00325"></a>00325     <span class="keywordflow">else</span>
<a name="l00326"></a>00326         qWarning()&lt;&lt;Q_FUNC_INFO&lt;&lt;<span class="stringliteral">&quot; url not added &quot;</span>&lt;&lt;url;
<a name="l00327"></a>00327 }
<a name="l00328"></a>00328 
<a name="l00336"></a><a class="code" href="class_r_s_s_manager.html#abe9ccbb2b3df692cf6bc9c781058680e">00336</a> <span class="keywordtype">bool</span> <a class="code" href="class_r_s_s_manager.html#abe9ccbb2b3df692cf6bc9c781058680e" title="Removes feed permanently. Stops update cycle of this feed If feed is fetched and being processed...">RSSManager::remove</a>(QUrl url)
<a name="l00337"></a>00337 {
<a name="l00338"></a>00338     <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;
<a name="l00339"></a>00339     <span class="keywordflow">if</span>(contains(url)) {
<a name="l00340"></a>00340         d-&gt;profiles.value(url)-&gt;stop();
<a name="l00341"></a>00341         <span class="keyword">delete</span> d-&gt;profiles.take(url);
<a name="l00342"></a>00342     }
<a name="l00343"></a>00343 <span class="keywordflow">return</span> result;
<a name="l00344"></a>00344 }
<a name="l00345"></a>00345 
<a name="l00346"></a>00346 <span class="keywordtype">void</span> RSSManager::removeAll() {
<a name="l00347"></a>00347     <span class="keywordflow">if</span>(!d-&gt;profiles.isEmpty()) {
<a name="l00348"></a>00348         FeedsIterator iter(d-&gt;profiles);
<a name="l00349"></a>00349         <span class="keywordflow">while</span>(iter.hasNext())
<a name="l00350"></a>00350             <span class="keyword">remove</span>(iter.next().key());
<a name="l00351"></a>00351     }
<a name="l00352"></a>00352 }
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 <span class="keywordtype">bool</span> RSSManager::contains(QUrl url)<span class="keyword"> const </span>{
<a name="l00355"></a>00355     <span class="keywordflow">return</span> d-&gt;profiles.contains(url);
<a name="l00356"></a>00356 }
<a name="l00357"></a>00357 
<a name="l00363"></a><a class="code" href="class_r_s_s_manager.html#a2852ac2857292b9faaa3fb8a32ad8f9b">00363</a> QList&lt;QUrl&gt; <a class="code" href="class_r_s_s_manager.html#a2852ac2857292b9faaa3fb8a32ad8f9b" title="Returns all URLs of all feeds added so far.">RSSManager::urls</a>()<span class="keyword"> const </span>{
<a name="l00364"></a>00364     <span class="keywordflow">return</span> d-&gt;profiles.keys();
<a name="l00365"></a>00365 }
<a name="l00366"></a>00366 
<a name="l00372"></a><a class="code" href="class_r_s_s_manager.html#af0f068ca88b9ce7430ed879817325991">00372</a> QString <a class="code" href="class_r_s_s_manager.html#af0f068ca88b9ce7430ed879817325991">RSSManager::feedFileName</a>(QUrl url)<span class="keyword"> const </span>{
<a name="l00373"></a>00373     QString name;
<a name="l00374"></a>00374     <span class="keywordflow">if</span>(d-&gt;profiles.contains(url))
<a name="l00375"></a>00375         name = d-&gt;profiles.value(url)-&gt;feedFileName();
<a name="l00376"></a>00376     <span class="keywordflow">return</span> name;
<a name="l00377"></a>00377 }
<a name="l00378"></a>00378 
<a name="l00379"></a>00379 <span class="keywordtype">int</span> RSSManager::count()<span class="keyword"> const </span>{
<a name="l00380"></a>00380     <span class="keywordflow">return</span> d-&gt;profiles.size();
<a name="l00381"></a>00381 }
<a name="l00382"></a>00382 
<a name="l00388"></a><a class="code" href="class_r_s_s_manager.html#a54cc44949de7b572cdd01bebf7ea4f6c">00388</a> <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_manager.html#a54cc44949de7b572cdd01bebf7ea4f6c" title="Updates all feeds which are added so far. Order of update is undefined. If such an order is required ...">RSSManager::updateAll</a>() {
<a name="l00389"></a>00389     FeedsIterator iter(d-&gt;profiles);
<a name="l00390"></a>00390     <span class="keywordflow">while</span>(iter.hasNext())
<a name="l00391"></a>00391         <a class="code" href="class_r_s_s_manager.html#a80026b696e3feb8414c8601f63185a17">update</a>(iter.next().key());
<a name="l00392"></a>00392 }
<a name="l00393"></a>00393 
<a name="l00400"></a><a class="code" href="class_r_s_s_manager.html#a80026b696e3feb8414c8601f63185a17">00400</a> <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_manager.html#a80026b696e3feb8414c8601f63185a17">RSSManager::update</a>(QUrl url) {
<a name="l00401"></a>00401     <a class="code" href="class_feed_profile.html">FeedProfile</a>* p = d-&gt;profile(url);
<a name="l00402"></a>00402     <span class="keywordflow">if</span>(p)
<a name="l00403"></a>00403         p-&gt;<a class="code" href="class_feed_profile.html#ab6898094e5bbbff57329958000fb08cf">update</a>();
<a name="l00404"></a>00404 }
<a name="l00405"></a>00405 
<a name="l00413"></a><a class="code" href="class_r_s_s_manager.html#a207ba608696040d5d594fa67eae006bd">00413</a> <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_manager.html#a207ba608696040d5d594fa67eae006bd">RSSManager::setUpdateOnNewItemsOnly</a>(QUrl url, <span class="keywordtype">bool</span> val) {
<a name="l00414"></a>00414     <a class="code" href="class_feed_profile.html">FeedProfile</a>* p = d-&gt;profile(url);
<a name="l00415"></a>00415     <span class="keywordflow">if</span>(p)
<a name="l00416"></a>00416        p-&gt;setSmartUpdate(val);
<a name="l00417"></a>00417 }
<a name="l00418"></a>00418 
<a name="l00423"></a><a class="code" href="class_r_s_s_manager.html#a08dc3aa8812b5b22fea4bd64c71fa474">00423</a> <span class="keywordtype">bool</span> <a class="code" href="class_r_s_s_manager.html#a08dc3aa8812b5b22fea4bd64c71fa474">RSSManager::isUpdatingOnNewItemsOnly</a>(QUrl url)<span class="keyword"> const </span>{
<a name="l00424"></a>00424     <span class="keywordtype">bool</span> res = <span class="keyword">false</span>;
<a name="l00425"></a>00425     <a class="code" href="class_feed_profile.html">FeedProfile</a>* p = d-&gt;profile(url);
<a name="l00426"></a>00426     <span class="keywordflow">if</span>(p)
<a name="l00427"></a>00427       res = p-&gt;hasSmartUpdate();
<a name="l00428"></a>00428     <span class="keywordflow">return</span> res;
<a name="l00429"></a>00429 }
<a name="l00430"></a>00430 
<a name="l00437"></a><a class="code" href="class_r_s_s_manager.html#ad87bd1cf9ed4380d36b23341e115d19e">00437</a> <a class="code" href="class_r_s_s_parser.html" title="RSSParser is a special xml parser for RSS feeds. It is based on XQuery as backend. It is very light weight as it does not own the source data. Using RSSParser requires some basic knowledge of RSS elements. It suports RSS Specification http://www.rssboard.org/rss-specification.">RSSParser</a>* <a class="code" href="class_r_s_s_manager.html#ad87bd1cf9ed4380d36b23341e115d19e" title="Provides a parser initialized and ready to parse results from url.">RSSManager::parser</a>(QUrl url) {
<a name="l00438"></a>00438     <a class="code" href="class_r_s_s_parser.html" title="RSSParser is a special xml parser for RSS feeds. It is based on XQuery as backend. It is very light weight as it does not own the source data. Using RSSParser requires some basic knowledge of RSS elements. It suports RSS Specification http://www.rssboard.org/rss-specification.">RSSParser</a>* <a class="code" href="class_r_s_s_manager.html#ad87bd1cf9ed4380d36b23341e115d19e" title="Provides a parser initialized and ready to parse results from url.">parser</a> = NULL;
<a name="l00439"></a>00439     <a class="code" href="class_feed_profile.html">FeedProfile</a>* p = d-&gt;profile(url);
<a name="l00440"></a>00440     <span class="keywordflow">if</span>(p) {
<a name="l00441"></a>00441         <span class="comment">// TODO: rather than creating an instance,</span>
<a name="l00442"></a>00442         <span class="comment">// just hook a parser for each feedprofile.</span>
<a name="l00443"></a>00443         parser = <span class="keyword">new</span> <a class="code" href="class_r_s_s_parser.html" title="RSSParser is a special xml parser for RSS feeds. It is based on XQuery as backend. It is very light weight as it does not own the source data. Using RSSParser requires some basic knowledge of RSS elements. It suports RSS Specification http://www.rssboard.org/rss-specification.">RSSParser</a>(<span class="keyword">this</span>);
<a name="l00444"></a>00444         QFile* src = <span class="keyword">new</span> QFile(p-&gt;<a class="code" href="class_feed_profile.html#a4e8512cf50a4613d3f41bf040068b87d">feedFileName</a>());
<a name="l00445"></a>00445         src-&gt;setParent(parser);
<a name="l00446"></a>00446         src-&gt;open(QIODevice::ReadOnly);
<a name="l00447"></a>00447         parser-&gt;<a class="code" href="class_r_s_s_parser.html#a61ed20107ba616368c053eb61a99ba9d" title="set RSS data source. Sets xml source to be parsed using RSSParser. The source should be opened atleas...">setSource</a>(src);
<a name="l00448"></a>00448     }
<a name="l00449"></a>00449     <span class="keywordflow">return</span> <a class="code" href="class_r_s_s_manager.html#ad87bd1cf9ed4380d36b23341e115d19e" title="Provides a parser initialized and ready to parse results from url.">parser</a>;
<a name="l00450"></a>00450 
<a name="l00451"></a>00451 <span class="comment">//    RSSParser* parser = NULL;</span>
<a name="l00452"></a>00452 <span class="comment">//    FeedProfile* p = d-&gt;profile(url);</span>
<a name="l00453"></a>00453 <span class="comment">//    if(p)</span>
<a name="l00454"></a>00454 <span class="comment">//        parser = p-&gt;parser();</span>
<a name="l00455"></a>00455 <span class="comment">//    return parser;</span>
<a name="l00456"></a>00456 }
<a name="l00457"></a>00457 
<a name="l00465"></a><a class="code" href="class_r_s_s_manager.html#a23a3fbde5eaab58f792087a7129f1840">00465</a> <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_manager.html#a23a3fbde5eaab58f792087a7129f1840" title="Stops update for feed identified by url.">RSSManager::stop</a>(QUrl url) {
<a name="l00466"></a>00466     <span class="keywordflow">if</span>(contains(url))
<a name="l00467"></a>00467         d-&gt;profile(url)-&gt;stop();
<a name="l00468"></a>00468 }
<a name="l00469"></a>00469 
<a name="l00475"></a><a class="code" href="class_r_s_s_manager.html#a19aa6727d8b9925865a00f515c082c0d">00475</a> <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_manager.html#a19aa6727d8b9925865a00f515c082c0d" title="Stops all feed updates.">RSSManager::stopAll</a>() {
<a name="l00476"></a>00476     <span class="keywordflow">if</span>(!d-&gt;profiles.isEmpty()) {
<a name="l00477"></a>00477         FeedsIterator iter(d-&gt;profiles);
<a name="l00478"></a>00478         <span class="keywordflow">while</span>(iter.hasNext()) {
<a name="l00479"></a>00479             <a class="code" href="class_feed_profile.html">FeedProfile</a>* f = iter.next().value();
<a name="l00480"></a>00480             f-&gt;stop();
<a name="l00481"></a>00481         }
<a name="l00482"></a>00482     }
<a name="l00483"></a>00483 }
<a name="l00484"></a>00484 
<a name="l00494"></a><a class="code" href="class_r_s_s_manager.html#a83e1e3050e280ca5018b0bd358b91857">00494</a> <span class="keywordtype">bool</span> <a class="code" href="class_r_s_s_manager.html#a83e1e3050e280ca5018b0bd358b91857" title="Starts update. Clients should call this method to start update cycle. Once called update cycle is sta...">RSSManager::start</a>(QUrl url) {
<a name="l00495"></a>00495     <span class="keywordtype">bool</span> res = <span class="keyword">false</span>;
<a name="l00496"></a>00496     <span class="keywordflow">if</span>(contains(url)) {
<a name="l00497"></a>00497         d-&gt;profile(url)-&gt;start();
<a name="l00498"></a>00498         res = <span class="keyword">true</span>;
<a name="l00499"></a>00499     }
<a name="l00500"></a>00500     <span class="keywordflow">return</span> res;
<a name="l00501"></a>00501 }
<a name="l00502"></a>00502 
<a name="l00507"></a><a class="code" href="class_r_s_s_manager.html#a586bb2f3e73af2ac76a2bfcc73d5c0e5">00507</a> <span class="keywordtype">void</span> <a class="code" href="class_r_s_s_manager.html#a586bb2f3e73af2ac76a2bfcc73d5c0e5" title="Convience method to start all feeds.">RSSManager::startAll</a>() {
<a name="l00508"></a>00508     <span class="keywordflow">if</span>(!d-&gt;profiles.isEmpty()) {
<a name="l00509"></a>00509         FeedsIterator iter(d-&gt;profiles);
<a name="l00510"></a>00510         <span class="keywordflow">while</span>(iter.hasNext())
<a name="l00511"></a>00511             <a class="code" href="class_r_s_s_manager.html#a83e1e3050e280ca5018b0bd358b91857" title="Starts update. Clients should call this method to start update cycle. Once called update cycle is sta...">start</a>(iter.next().key());
<a name="l00512"></a>00512     }
<a name="l00513"></a>00513 }
<a name="l00514"></a>00514 
<a name="l00515"></a>00515 <span class="comment">// end of file</span>
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>rssmanager.cpp</b>      </li>

    <li class="footer">Generated on Mon May 14 2012 13:34:24 for FeedParrot by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
