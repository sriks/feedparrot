<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FeedParrot: rssparser/main.cpp Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="feedparrot_64.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">FeedParrot
   &#160;<span id="projectnumber">0.4</span>
   </div>
   <div id="projectbrief">Qt based RSS Feed manager and parser</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('rssparser_2main_8cpp.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">rssparser/main.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &lt;QtGui/QApplication&gt;</span>
<a name="l00002"></a>00002 <span class="preprocessor">#include &lt;QWebView&gt;</span>
<a name="l00003"></a>00003 <span class="preprocessor">#include &lt;QUrl&gt;</span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;QDebug&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;QFile&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;QBuffer&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;QXmlQuery&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;QTextDocument&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;mainwindow.h&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;locationengine.h&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;rssparser.h&quot;</span>
<a name="l00012"></a>00012 <span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
<a name="l00013"></a>00013 {
<a name="l00014"></a>00014     QApplication a(argc, argv);
<a name="l00015"></a>00015 <span class="comment">//    LocationEngine locationEngine;</span>
<a name="l00016"></a>00016 <span class="comment">//    locationEngine.getRss();</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018     QWebView view;
<a name="l00019"></a>00019 
<a name="l00020"></a>00020     QFile file(<span class="stringliteral">&quot;:/xml/engadget.xml&quot;</span>);
<a name="l00021"></a>00021     <span class="keywordflow">if</span>(file.open(QIODevice::ReadOnly))
<a name="l00022"></a>00022     {
<a name="l00023"></a>00023         QByteArray tmpData = file.readAll();
<a name="l00024"></a>00024         <span class="comment">// Set data source</span>
<a name="l00025"></a>00025         QBuffer buffer(&amp;tmpData);
<a name="l00026"></a>00026         qDebug()&lt;&lt;<span class="stringliteral">&quot;Buffer open:&quot;</span>&lt;&lt;buffer.open(QIODevice::ReadOnly);
<a name="l00027"></a>00027         <a class="code" href="class_r_s_s_parser.html" title="RSSParser is a special xml parser for RSS feeds. It is based on XQuery as backend. It is very light weight as it does not own the source data. Using RSSParser requires some basic knowledge of RSS elements. It suports RSS Specification http://www.rssboard.org/rss-specification.">RSSParser</a> rss;
<a name="l00028"></a>00028         rss.<a class="code" href="class_r_s_s_parser.html#a61ed20107ba616368c053eb61a99ba9d" title="set RSS data source. Sets xml source to be parsed using RSSParser. The source should be opened atleas...">setSource</a>(&amp;buffer);
<a name="l00029"></a>00029         qDebug()&lt;&lt;rss.<a class="code" href="class_r_s_s_parser.html#a6c15515c743ecaf311851dbfb4fa1f0c" title="queries a channel element">channelElement</a>(RSSParser::description);
<a name="l00030"></a>00030         qDebug()&lt;&lt;<span class="stringliteral">&quot;item count:&quot;</span>&lt;&lt;rss.itemCount();
<a name="l00031"></a>00031 <span class="comment">//        /for(int i=0;i&lt;rss.itemCount();i++)</span>
<a name="l00032"></a>00032         {
<a name="l00033"></a>00033             qDebug()&lt;&lt;rss.<a class="code" href="class_r_s_s_parser.html#adfad03c83d5a7a433c999a15b0ef1244" title="queries an item element">itemElement</a>(1,RSSParser::title);
<a name="l00034"></a>00034             QString des = rss.<a class="code" href="class_r_s_s_parser.html#adfad03c83d5a7a433c999a15b0ef1244" title="queries an item element">itemElement</a>(1,RSSParser::description);
<a name="l00035"></a>00035 
<a name="l00036"></a>00036             QUrl url(des);
<a name="l00037"></a>00037             QByteArray per = url.toPercentEncoding(des);
<a name="l00038"></a>00038             qDebug()&lt;&lt;per;
<a name="l00039"></a>00039             qDebug()&lt;&lt;<span class="stringliteral">&quot;\n\n\n&quot;</span>&lt;&lt;url.fromPercentEncoding(per);
<a name="l00040"></a>00040             view.setHtml(des);
<a name="l00041"></a>00041 
<a name="l00042"></a>00042         view.show();
<a name="l00043"></a>00043         }
<a name="l00044"></a>00044 
<a name="l00045"></a>00045         qDebug()&lt;&lt;rss.<a class="code" href="class_r_s_s_parser.html#a19db1bd2bf2b86f39c83b1516f390c3f" title="Experimental API to set a filename as source.">imageUrl</a>().toString();
<a name="l00046"></a>00046     }
<a name="l00047"></a>00047 
<a name="l00048"></a>00048     <span class="keywordflow">else</span>
<a name="l00049"></a>00049     {
<a name="l00050"></a>00050         qDebug()&lt;&lt;<span class="stringliteral">&quot;failed to open&quot;</span>;
<a name="l00051"></a>00051     }
<a name="l00052"></a>00052 
<a name="l00053"></a>00053     MainWindow w;
<a name="l00054"></a>00054     w.show();
<a name="l00055"></a>00055     <span class="keywordflow">return</span> a.exec();
<a name="l00056"></a>00056 }
<a name="l00057"></a>00057 
</pre></div></div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>main.cpp</b>      </li>

    <li class="footer">Generated on Mon May 14 2012 13:34:24 for FeedParrot by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
